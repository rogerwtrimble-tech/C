# Medical Data Extraction System - Environment Configuration
# Copy this file to .env and configure for your environment

# ============================================================================
# PROCESSING MODE
# ============================================================================
# Set to 'vlm' for multimodal Vision-Language Model (95%+ accuracy)
# Set to 'text' for legacy text-only SOLAR processing (85-90% accuracy)
PROCESSING_MODE=vlm

# ============================================================================
# VLM SETTINGS (Multimodal Processing - Grade A)
# ============================================================================
VLM_ENABLED=true
VLM_MODEL=Qwen/Qwen2.5-VL-3B-Instruct-AWQ
VLM_HOST=localhost
VLM_PORT=8000
VLM_QUANTIZATION=awq
VLM_MAX_CONCURRENT_PAGES=1
VLM_BATCH_SIZE=1
VLM_GPU_MEMORY_UTILIZATION=0.75
VLM_MAX_MODEL_LEN=2048

# ============================================================================
# OLLAMA SLM SETTINGS (Legacy Text-Only Processing - Grade B)
# ============================================================================
OLLAMA_HOST=localhost
OLLAMA_PORT=11434
OLLAMA_MODEL=solar:10.7b

# ============================================================================
# SIGNATURE DETECTION
# ============================================================================
SIGNATURE_DETECTION_ENABLED=true
SIGNATURE_MODEL_PATH=models/yolov8_signature.pt
SIGNATURE_CONFIDENCE_THRESHOLD=0.75
SIGNATURE_MIN_SIZE=50
SIGNATURE_MAX_SIZE=500

# ============================================================================
# IMAGE PROCESSING
# ============================================================================
PDF_DPI=300
IMAGE_PREPROCESSING=true
DESKEW_ENABLED=true
IMAGE_FORMAT=PNG
IMAGE_QUALITY=95

# ============================================================================
# OCR SETTINGS (Fallback for text-only mode)
# ============================================================================
OCR_ENGINE=tesseract
# Options: tesseract, easyocr, paddleocr

# ============================================================================
# API SETTINGS
# ============================================================================
MAX_CONCURRENT_REQUESTS=4
API_TIMEOUT=120
RETRY_ATTEMPTS=3
RETRY_BACKOFF=2.0

# ============================================================================
# PATHS
# ============================================================================
PDF_INPUT_DIR=pdfs
RESULTS_OUTPUT_DIR=results
AUDIT_LOG_PATH=logs/audit
SIGNATURE_OUTPUT_DIR=results/signatures
TEMP_IMAGE_DIR=temp/images
MODEL_CACHE_DIR=models/cache

# ============================================================================
# SECURITY & HIPAA COMPLIANCE
# ============================================================================
SECURE_DELETION_PASSES=3
ENCRYPTION_ENABLED=false
# ENCRYPTION_KEY=base64_encoded_32_byte_key_here

# ============================================================================
# CONFIDENCE & QUALITY GATES
# ============================================================================
MIN_CONFIDENCE_THRESHOLD=0.75
SIGNATURE_VALIDATION_REQUIRED=true
HUMAN_REVIEW_THRESHOLD=0.70
AUTO_FLAG_DISCREPANCIES=true

# ============================================================================
# PERFORMANCE TUNING
# ============================================================================
ENABLE_BATCH_PROCESSING=true
PARALLEL_PAGE_PROCESSING=true
CACHE_PREPROCESSED_IMAGES=false
CLEANUP_TEMP_FILES=true

# ============================================================================
# LOGGING & MONITORING
# ============================================================================
LOG_LEVEL=INFO
# Options: DEBUG, INFO, WARNING, ERROR, CRITICAL
ENABLE_PERFORMANCE_METRICS=true
ENABLE_VISUAL_ELEMENT_LOGGING=true

# ============================================================================
# FEATURE FLAGS
# ============================================================================
ENABLE_HANDWRITING_DETECTION=true
ENABLE_LAYOUT_ANALYSIS=true
ENABLE_TABLE_EXTRACTION=true
ENABLE_FORM_FIELD_DETECTION=true
